{% extends 'base.html' %}
{% block title %}
<title>FreeWriter | All Books</title>
{% endblock %}

{% block content %}
<div class="books-page-container">
  <div class="page-header">
    <h1 class="page-title">
      <i class="fas fa-books"></i>
      All Books
    </h1>
    <p class="page-subtitle">Browse our complete collection of free eBooks</p>
    <div class="books-count">
      <span class="count-number">{{ books.count|default:"0" }}</span>
      <span class="count-label">Books Available</span>
    </div>
  </div>

  <div class="books-grid">
    {% for book in books %}
      <div class="book-card">
        <a href="{% url 'book_detail' book.slug %}" class="book-link">
          <div class="book-cover">
            {% if book.cover_image %}
              <img src="{{book.cover_image.url}}" alt="{{book.title}}" class="cover-image">
            {% else %}
              <div class="no-image">
                <i class="fas fa-book"></i>
                <span>No Image</span>
              </div>
            {% endif %}
            <div class="book-overlay">
              <i class="fas fa-eye"></i>
              <span>View Details</span>
            </div>
          </div>
          <div class="book-info">
            <h3 class="book-title">{{book.title}}</h3>
            <p class="book-author">{{book.author}}</p>
                                 <div class="book-categories">
                         {% for category in book.category.all|slice:":2" %}
                             <span class="category-tag">
                                 <i class="{{category.icon}}"></i>
                                 {{category.name}}
                             </span>
                         {% endfor %}
                     </div>
          </div>
        </a>
      </div>
    {% empty %}
      <div class="no-books">
        <i class="fas fa-book-open"></i>
        <h3>No Books Available</h3>
        <p>We're working on adding more books to our collection.</p>
        <a href="{% url 'home' %}" class="btn-home">Go to Home</a>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
